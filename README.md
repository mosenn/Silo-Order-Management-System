# Silo-Order-Management-System

## RUN 

ุจุง ุฏุณุชูุฑ ุฒุฑ ุณุฑูุฑ ุฑุงู ูุดู ุงูุง ูุจูุด ุญุชูุง ุจู ุงู ููุถูุน ุชูุฌู ฺฉูุฏ ูุงุฒ ูุณุช ฺฉู redis ุณุฑูุฑ ุงุฌุฑุง ุดุฏู ุจุงุดู ู ุจุฏูู ูุดฺฉู ุฑุงู ุดุฏู ุจุงุดู . 

```
npm run start:dev 

```

ุงุฒ ุฏุชุงุจุณ ูุง mongodb ู redis ู orm prisma ุงุณุชูุงุฏู ุดุฏู . 

ูููุทูุฑ ูุงุฒ ูุณุช ุฏุฑูู ูุงู .env ูุชุบุฑ ูุง ุฎูุฏุชูู ุฑู ุณุช ฺฉูุฏ ฺฉู ฺฉ ุงุฏุฑุณ ุฏุชุงุจุณ mongodb ูุณุช 

ฺฉ ูู secret ูุฑุจูุท ุจู jwt ูุณุชุด . 


DATABASE_URL=""
JWT_SECRET = ""

## Folders ๐

ุฏุฑูู ูููุฏุฑ schema.prisma ูุฏู ูุง ููุฑุฏ ูุงุฒ ุงุฌุงุฏ ุดุฏู ู ูููุทูุฑ ุงุฑุชุจุงุท ุจุง mongodb ุจุฑูุฑุงุฑ ุดุฏู 

ุฏุฑูู ูููุฏุฑ auth ุจุฎุด ูุง ูุฑุจูุท ุจู login ู register ุงูุฌุงู ุดุฏู ู ูููุทูุฑ ุงุฒ JWT ุจุฑุง ุงุฌุงุฏ ุชูฺฉู ู ุงุญุฑุงุฒ ููุช ุงุณุชูุงุฏู ุดุฏู . 

ุฏุฑูู ูููุฏุฑ order ฺฉุงุฑูุง ูุฑุจูุท ุจู ูุญุตููุงุช ููุฏู ุดุฏู 

ุฏุฑูู ูููุฏุฑ inc ฺฉู ูุฎูู interceptor ูุณุช ฺฉ cache.interceptor.ts ุฏุงุฑู 

ุฏุฑูู ูููุฏุฑ guards ุงุนุชุจุงุฑ ุณูุฌ ูุฑุจูุท ุจู role , jwt ุงูุฌุงู ุดุฏู 

ุฏุฑูู ูููุฏุฑ @decorator ุฏูุชุง decorator ุฏุงุฑู ฺฉ ุจุฑุง cache ู ฺฉ ูู ุจุฑุง role

ุฏุฑูู ูููุฏุฑ prisma ุงุฑุชุจุงุท ุจุง prisma ุจุฑูุฑุงุฑ ุดุฏู 

ุฏุฑูู ูููุฏุฑ redis ูู ฺฉ redis.module.ts ุฏุงุฑู ฺฉู ุงุฑุชุจุงุท redis ุฑู ุจุฑูุฑุงุฑ ฺฉุฑุฏู . 

ุฏุฑูู ูุฑ ูููุฏุฑ ุจู ุนููุงู ูุซุงู order ฺฉ ูููุฏุฑ ุจู ุงุณู dto ุชุนุฑู ุดุฏู ฺฉู ูุธูู ููุฏุดู ุฑู ุจู ุนูุฏู ุฏุงุฑู .


## API โจ

ุจุฑุง ุซุจุช ูุงู ูุงุฒ ูุณุช ฺฉู ููุฏ ูุง ุฒุฑ ุฑู ุฏุงุดุชู ุจุงุดุฏ 

**ุชฺฉุชู : ุงฺฏุฑ ฺฉู ููุฏุงุฑ role ุฑู ุชุนุฑู ูฺฉูุฏ ุจู ุทูุฑ ูพุด ูุฑุถ farmer ุฏุฑ ูุธุฑ ฺฏุฑูุชู ูุดู ุงูุง ุงฺฏุฑ ู ุฎูุงุฏ admin ุงุฌุงุฏ ฺฉูุฏ role ุฑู ADMIN ุจุฒุงุฑุฏ ุฏูุช ุฏุงุดุชู ุจุงุดุฏ ุจุง ุญุฑูู ุจุฒุฑฺฏ ุจููุณุฏ** 



**Request Body**:
```json
{
  "email": "farmer-1@gmail.com",
  "username": "user-farmer1",
  "password": "AwZ1@255678",
  "role": "FARMER" 
}



```

http://localhost:2024/auth/register 

```

ูุฑุฏ ูุง register ุฑู ูุงุฒ ุฏุงุฑู ุจู ุบุฑ ุงุฒ role
```
http://localhost:2024/auth/login
```

ูุงุฒ ุจู ุชูฺฉู ุจุฑุง ุงุฌุงุฏ ูุญุตูู ูุณุช ฺฉู ุชูฺฉู ุฑู ูููุน ูุงฺฏู ฺฉุดุงูุฑุฒ  ุชูฺฉู ุฑู ุฏุฑ ุงุฎุชุงุฑ ุดูุง ูุฑุงุฑ ุฎูุงูุฏ ุฏุงุฏ

```
http://localhost:2024/order/create
```

ููุท ฺฉุณ ฺฉู ุงุฏูู ูุณุช ู ุชููู ุชูุงู ูุญุตููุงุช ุฑู ูุดุงูุฏู ฺฉูู ฺฉู ูุงุฒ ุจู ุชูฺฉู ูุณุช ฺฉู ุจุงุฒ ุฒูุงู ูุงฺฏู ุดุฏู ุงู ุชูฺฉู ุฑู ุจู ุดูุง ุฎูุงูุฏ ุฏุงุฏ
```
http://localhost:2024/order/admin
```

ููุท ุงุฏูู ู ุชููู ูุถุนุช ูุญุตูู ุฑู ุชุบุฑ ุจุฏู ฺฉู ูุงุฒ ุจู ุณุช ฺฉุฑุฏู ุชูฺฉู ูุณุช ฺฉู ุชูฺฉู ุฑู ููุซุน ูุงฺฏู ุฏุฑุงูุช ู ฺฉูุฏ ู ูุงุฒ ูุณุช ฺฉู ุจู ุนููุงู param ุจุงู id ูุญุตูู ุฑู ุจูุด ูพุงุณ ุจุฏู 

```
http://localhost:2024/order/admin/67489435b59b9585e3eab1be
```

ฺฉุดุงูุฑุฒ ู ุชููู ุชูุงู ูุญุตููุงุช ฺฉู ุตุฑูุง ุฎูุฏุด ุงุฌุงุฏ ฺฉุฑุฏู ุฑู ุจุจูู ู ูุงุฒ ุจู ุณุช ฺฉุฑุฏู ุชูฺฉู ูุณุช ฺฉู ุชูฺฉู ุฑู ูููุน ูุงฺฏู ุดูุง ุฎูุงูุฏ ุฏุงุดุช 

```
http://localhost:2024/order/farmer/orders
```


##  API Cache ๐

ุงู Api ูุง ุจู ูุณูู redis ฺฉุด ุดุฏู ฺฉู ฺฉุฏ ูุฑุจูุท ุฑู ู ุชููุฏ ุฏุฑูู order.controller.ts ูุดุงูุฏู ฺฉูุฏ 


```
http://localhost:2024/order/farmer/orders
```

```
http://localhost:2024/order/admin
```


## Prisma 

### ุจูููโุณุงุฒ ฺฉูุฆุฑโูุง

ุฏุฑ ุงู ูพุฑูฺู ุงุฒ Prisma ORM ุจุฑุง ุงุฑุชุจุงุท ุจุง ูพุงฺฏุงู ุฏุงุฏู ุงุณุชูุงุฏู ุดุฏู ฺฉู ุฎูุฏุด ฺฉุงุฑูุง ุจูููโุณุงุฒ ุฑู ุงูุฌุงู ูโุฏู. ุจุฑุง ูุซุงูุ ุจุง ุงุณุชูุงุฏู ุงุฒ ูฺฺฏโูุง ูุซู select ู include ููุท ูููู ุฏุงุฏูโูุง ฺฉู ูุงุฒ ุฏุงุฑู 

ุฑู ุงุฒ ูพุงฺฏุงู ุฏุงุฏู ูโฺฏุฑู ู ุงูุทูุฑ ุงุฒ ุจุงุฑ ุงุถุงู ุฌููฺฏุฑ ูโฺฉูู. ุงู ุนู ุฏฺฏู ูุฌุจูุฑ ูุณุชู ุฏุงุฏูโูุง ุงุถุงู ุฑู ูุฑุงุฎูุงู ฺฉูู. ููฺููุ indexing ูู ุจุฑุง ุณุฑุนโุชุฑ ฺฉุฑุฏู ุฌุณุชุฌููุง ู ุจูุจูุฏ ุนููฺฉุฑุฏ ฺฉู ุณุณุชู 

ุงุณุชูุงุฏู ูโุดู. ุงู ูฺฺฏโูุง ฺฉูฺฉ ูโฺฉูู ฺฉู ุณุณุชู ููุดู ุณุฑุน ู ฺฉุงุฑุขูุฏ ุจูููู.

### ุฌููฺฏุฑ ุงุฒ SQL Injection

ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุญููุงุช SQL Injection ฺฉู ุฎู ุฑุงุฌ ูุณุชูุ ุงุฒ Prisma ุงุณุชูุงุฏู ฺฉุฑุฏู. Prisma ุฎูุฏุด ุชูุงู ุฏุณุชูุฑุงุช SQL ุฑู ุงูู ู ูพุงุฑุงูุชุฑ ุดุฏู (parameterized) ุงุฌุฑุง ูโฺฉูู. ุงู ุนู ูฺ ููุช ููุงุฌู ููโุชููู ฺฉุฏูุง

 ูุฎุฑุจ ุฑู ุงุฒ ูุฑูุฏโูุง ุจู ูพุงฺฏุงู ุฏุงุฏู ูุงุฑุฏ ฺฉูู. ุจุง ุงู ุฑูุดุ ุงููุช ุณุณุชู ุญูุธ ูโุดู ู ุฏุงุฏูโูุง ูู ููุดู ุงูู ุจุงู ูโูููู.

